<mat-card>
    <mat-card-header>

        <mat-card-title>Filtros</mat-card-title>

        <mat-card-subtitle>Altere os filtos e atualize o gr√°fico
        </mat-card-subtitle>
    </mat-card-header>
    <div style="margin:5px; margin-top:10px">
        <form [formGroup]="filterForm" (ngSubmit)="onSubmit()">
            <div fxLayout="row">
                <div style="width: 40%; margin:1px" *ngIf="showUfFilter == true">
                    <mat-form-field appearance="fill">
                        <mat-label style="font-size: 11px">UF</mat-label>
                        <mat-select formControlName="uf">
                            <mat-option *ngFor="let uf of ufList" [value]="uf" style="font-size: 10px">
                                {{uf.sigla}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div style="width: 40%; margin:1px;">

                    <mat-form-field *ngIf="showYearRangeFilter == false" appearance="fill">
                        <mat-label style="font-size: 11px">Ano</mat-label>
                        <mat-select formControlName="year">
                            <mat-option *ngFor="let year of yearList" [value]="year" style="font-size: 10px">
                                {{year}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div style="width:20%; margin:1px; margin-top:5px">
                    <button mat-mini-fab color="primary" type="submit">
                        <mat-icon>refresh</mat-icon>
                    </button>
                </div>

            </div>
            <div fxLayout="row" *ngIf="showYearRangeFilter">
                <div style="width: 40%; margin:1px">
                    <mat-form-field appearance="fill">
                        <mat-select formControlName="yearI">
                            <mat-label style="font-size: 10px">Ano Inicial</mat-label>
                            <mat-option *ngFor="let year of yearList" [value]="year" style="font-size: 9px">
                                {{year}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div style="width: 40%; margin:1px">
                    <mat-form-field appearance="fill">
                        <mat-select formControlName="yearF">
                            <mat-label style="font-size: 10px">Ano Final</mat-label>
                            <mat-option *ngFor="let year of yearList" [value]="year" style="font-size: 9px">
                                {{year}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div style="width:20%; margin:1px; margin-top:5px">
                    <button mat-mini-fab color="primary" type="submit">
                        <mat-icon>refresh</mat-icon>
                    </button>
                </div>

            </div>

            <div>
                <table class="table table-striped" style="font-size:10px;">
                    <tbody>
                        <tr>
                            <th> </th>
                            <th colspan="2">Cid</th>

                        </tr>
                        <tr *ngFor="let col of cidList; let i = index" formArrayName="cids">
                            <td [ngStyle]="getStyle(col)">
                                <input type="checkbox" [formControlName]="i" (change)="onCheckboxChange($event)"
                                    *ngIf="showCheckboxInput == true">
                            </td>
                            <td style="padding:0em">
                                [ {{ col.cod }} ] -
                                {{ col.descricao }}</td>
                        </tr>
                    </tbody>
                </table>
                
            </div>
        </form>
    </div>
</mat-card>